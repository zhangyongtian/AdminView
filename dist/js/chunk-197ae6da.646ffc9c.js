(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-197ae6da"],{"1dde":function(e,t,r){var n=r("d039"),o=r("b622"),a=r("2d00"),i=o("species");e.exports=function(e){return a>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3812:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/admin/setUserRole/"+e.userId}}},[e._v("超级管理员界面")]),r("el-breadcrumb-item",[e._v("用户权限管理")])],1)],1),r("div",[r("el-card",{staticClass:"box-card"},[e._v(" 点击角色执行删除添加角色 ")])],1),r("div",{staticStyle:{"margin-top":"10px"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("用户已有角色")])]),r("div",[[e._l(e.user.roles,(function(t,n){return[r("el-tag",{staticStyle:{"margin-left":"7px"},on:{click:function(r){return e.deleteRole(t)}}},[e._v(e._s(t.rolename))])]}))]],2)])],1),r("div",{staticStyle:{"margin-top":"10px"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("下面是可以设置的角色")])]),r("div",[[e._l(e.userNotHaveRoleRole,(function(t,n){return[r("el-tag",{staticStyle:{"margin-left":"7px"},on:{click:function(r){return e.addRole(t)}}},[e._v(e._s(t.rolename))])]}))]],2)])],1),r("div",{staticStyle:{"margin-top":"10px"}},[r("el-card",{staticClass:"box-card"},[r("el-button",{attrs:{type:"success",round:""},on:{click:e.commitRoles}},[e._v("确认角色分配")])],1)],1)])],1)},o=[],a=(r("4de4"),r("c975"),r("d81d"),r("b5ad")),i={name:"",data:function(){return{userId:-1,user:{},allRole:[],userHasRoleId:[],userNotHaveRoleRole:[]}},created:function(){var e=this;this.userId=this.$route.params["userId"];var t={};t.id=this.userId,Object(a["c"])(JSON.stringify(t)).then((function(t){e.user=t.data.data,Object(a["b"])().then((function(t){var r=t.data.data;e.allRole=r,e.userHasRoleId=e.user.roles.map((function(e){return e.roleid})),e.userNotHaveRoleRole=e.allRole.filter((function(t){return e.userHasRoleId.indexOf(t.roleid)<0}))})).catch((function(e){}))})).catch((function(e){}))},methods:{deleteRole:function(e){this.deleteSelfRole(this.user.roles,e),this.userNotHaveRoleRole.push(e)},addRole:function(e){console.log("你现在要添加角色"),this.deleteSelfRole(this.userNotHaveRoleRole,e),this.user.roles.push(e)},deleteSelfRole:function(e,t){for(var r=0;r<e.length;r++)if(e[r].roleid==t.roleid){if(r==e.length-1)return void e.pop();for(var n=r;n<e.length;n++)e[n]=e[n+1],console.log(e);return void e.pop()}},commitRoles:function(){var e=this;console.log("提交");var t={};t.id=this.user.id,t.roles=this.user.roles,Object(a["d"])(JSON.stringify(t)).then((function(t){console.log(t),e.$message({message:"恭喜你，修改角色成功",type:"success"})})).catch((function(e){}))}}},s=i,c=r("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);t["default"]=u.exports},"4de4":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").filter,a=r("1dde"),i=r("ae40"),s=a("filter"),c=i("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,r){var n=r("861d"),o=r("e8b5"),a=r("b622"),i=a("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,r){var n=r("83ab"),o=r("d039"),a=r("5135"),i=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var r=[][e],u=!!a(t,"ACCESSORS")&&t.ACCESSORS,l=a(t,0)?t[0]:c,d=a(t,1)?t[1]:void 0;return s[e]=!!r&&!o((function(){if(u&&!n)return!0;var e={length:-1};u?i(e,1,{enumerable:!0,get:c}):e[1]=1,r.call(e,l,d)}))}},b5ad:function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return c}));var n=r("0acc"),o=function(e){return Object(n["a"])({method:"POST",url:"/rememberme/admin/userAdminPage",data:e})},a=function(e){return Object(n["a"])({method:"POST",url:"/rememberme/admin/deleteUserById",data:e})},i=function(e){return Object(n["a"])({method:"POST",url:"/rememberme/admin/getUserById",data:e})},s=function(e){return Object(n["a"])({method:"POST",url:"/rememberme/admin/getAllRole",data:e})},c=function(e){return Object(n["a"])({method:"POST",url:"/rememberme/admin/updateUserRoles",data:e})}},b727:function(e,t,r){var n=r("0366"),o=r("44ad"),a=r("7b0b"),i=r("50c4"),s=r("65f0"),c=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,l=4==e,d=6==e,f=5==e||d;return function(v,m,h,p){for(var b,g,R=a(v),x=o(R),O=n(m,h,3),y=i(x.length),S=0,C=p||s,_=t?C(v,y):r?C(v,0):void 0;y>S;S++)if((f||S in x)&&(b=x[S],g=O(b,S,R),e))if(t)_[S]=g;else if(g)switch(e){case 3:return!0;case 5:return b;case 6:return S;case 2:c.call(_,b)}else if(l)return!1;return d?-1:u||l?l:_}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c975:function(e,t,r){"use strict";var n=r("23e7"),o=r("4d64").indexOf,a=r("a640"),i=r("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),l=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},d81d:function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").map,a=r("1dde"),i=r("ae40"),s=a("map"),c=i("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-197ae6da.646ffc9c.js.map