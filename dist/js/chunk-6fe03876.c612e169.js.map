{"version":3,"sources":["webpack:///./src/components/Aticleadmin/blogedit.vue?6d70","webpack:///./src/util/requestnetwork/blogrequest.js","webpack:///src/components/Aticleadmin/blogedit.vue","webpack:///./src/components/Aticleadmin/blogedit.vue?4484","webpack:///./src/components/Aticleadmin/blogedit.vue","webpack:///./src/util/requestnetwork/saveBlog.js","webpack:///./src/util/requestnetwork/OssFileUpload.js","webpack:///./src/util/requestnetwork/getAllBlogClassfiy.js","webpack:///./src/components/publicizeaticle/richedit.vue?344c","webpack:///src/components/publicizeaticle/richedit.vue","webpack:///./src/components/publicizeaticle/richedit.vue?bea1","webpack:///./src/components/publicizeaticle/richedit.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/publicizeaticle/upload.vue?06b3","webpack:///src/components/publicizeaticle/upload.vue","webpack:///./src/components/publicizeaticle/upload.vue?f343","webpack:///./src/components/publicizeaticle/upload.vue","webpack:///./src/util/requestnetwork/getAllBlogTags.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","dialogVisible","on","$event","dialogOpen","ref","staticStyle","preimage","_v","staticClass","slot","commitimg","ruleForm","rules","model","value","callback","$$v","$set","expression","headimg","filechange","_l","item","key","classfiyname","classfiyid","tagname","tagid","richcontetchange","submitForm","resetForm","staticRenderFns","getBlogbyId","data","request","method","url","updateblog","component","saveBlog","ossfileupload","getAllBlogClassfiy","extensions","content","components","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","dataObj","handlePictureCardPreview","handleRemove","successUpload","beforeUpload","fileList","dialogImageUrl","getAllBlogTags"],"mappings":"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","file":"js/chunk-6fe03876.c612e169.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"修改图片\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"opened\":_vm.dialogOpen}},[_c('div',[_c('img',{ref:\"digimg\",staticStyle:{\"display\":\"block\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.preimage,\"alt\":\"\"}})]),_c('span',[_vm._v(\"这是一段信息\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.commitimg}},[_vm._v(\"确 定\")])],1)]),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"首图一张图片\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.ruleForm.headimg,\"alt\":\"\"}})]),_c('input',{ref:\"file\",attrs:{\"type\":\"file\",\"hidden\":\"hidden\",\"id\":\"file1\"},on:{\"change\":_vm.filechange}}),_c('label',{attrs:{\"for\":\"file1\"}},[_vm._v(\"点击修改图片\")])]),_c('el-form-item',{attrs:{\"label\":\"分类\",\"prop\":\"classfiyname\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择博客的标签\"},model:{value:(_vm.ruleForm.classfiyname),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"classfiyname\", $$v)},expression:\"ruleForm.classfiyname\"}},_vm._l((_vm.blogclassfiy),function(item){return _c('el-option',{key:item.classfiyname,attrs:{\"label\":item.classfiyname,\"value\":item.classfiyid}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"标签\",\"prop\":\"tagname\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择博客的标签\"},model:{value:(_vm.ruleForm.tagname),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"tagname\", $$v)},expression:\"ruleForm.tagname\"}},_vm._l((_vm.blogtags),function(item){return _c('el-option',{key:item.tagname,attrs:{\"label\":item.tagname,\"value\":item.tagid}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"是否发布\",\"prop\":\"isfabu\"}},[_c('el-switch',{model:{value:(_vm.ruleForm.isfabu),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"isfabu\", $$v)},expression:\"ruleForm.isfabu\"}})],1),_c('el-form-item',{attrs:{\"label\":\"简介\",\"prop\":\"introduce\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.ruleForm.introduce),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"introduce\", $$v)},expression:\"ruleForm.introduce\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章内容\",\"prop\":\"content\"}},[_c('richeditt',{on:{\"richdietcontenchange\":_vm.richcontetchange}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"修改\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {request} from '@/util/requestnetwork/request'\r\nconst getBlogbyId=data=>{\r\n\treturn request({\r\n\t\tmethod:\"POST\",\r\n\t\turl:\"/rememberme/getBlogbyId\",\r\n\t\tdata\r\n\t})\r\n}\r\n\r\nconst updateblog=data=>{\r\n\treturn request({\r\n\t\tmethod:\"POST\",\r\n\t\turl:\"/rememberme/updateblog\",\r\n\t\tdata\r\n\t})\r\n}\r\nexport {getBlogbyId,updateblog}\r\n","<template>\r\n\t<div>\r\n\t\t<el-dialog\r\n\t\t\ttitle=\"修改图片\"\r\n\t\t\t:visible.sync=\"dialogVisible\"\r\n\t\t\twidth=\"30%\"\r\n\t\t\t@opened=\"dialogOpen\"\r\n\t\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<img :src=\"preimage\" alt=\"\" style=\"display: block;max-width: 100%;\" ref=\"digimg\">\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<span>这是一段信息</span>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"commitimg\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t\t<el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\t\t  <el-form-item label=\"文章标题\" prop=\"title\">\r\n\t\t    <el-input v-model=\"ruleForm.title\"></el-input>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"首图一张图片\">\r\n\t\t\t\t<!-- 把得到的图片的URL传递给父组件 -->\r\n\t\t    <!-- <upload v-on:getheadimg=\"gethimg\"></upload> -->\r\n\t\t\t\t<div style=\"text-align: center;\">\r\n\t\t\t\t\t<img :src=\"ruleForm.headimg\" alt=\"\" style=\"max-width: 100%;\">\r\n\t\t\t\t</div>\r\n\t\t\t<input type=\"file\" hidden=\"hidden\" id=\"file1\" @change=\"filechange\" ref=\"file\">\r\n\t\t\t<label for=\"file1\">点击修改图片</label>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"分类\" prop=\"classfiyname\">\r\n\t\t    <el-select v-model=\"ruleForm.classfiyname\" multiple placeholder=\"请选择博客的标签\">\r\n\t\t        <el-option\r\n\t\t          v-for=\"item in blogclassfiy\"\r\n\t\t          :key=\"item.classfiyname\"\r\n\t\t          :label=\"item.classfiyname\"\r\n\t\t          :value=\"item.classfiyid\">\r\n\t\t        </el-option>\r\n\t\t      </el-select>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"标签\" prop=\"tagname\">\r\n\t\t\t\t<el-select v-model=\"ruleForm.tagname\" multiple placeholder=\"请选择博客的标签\">\r\n\t\t\t\t    <el-option\r\n\t\t\t\t      v-for=\"item in blogtags\"\r\n\t\t\t\t      :key=\"item.tagname\"\r\n\t\t\t\t      :label=\"item.tagname\"\r\n\t\t\t\t      :value=\"item.tagid\">\r\n\t\t\t\t    </el-option>\r\n\t\t\t\t  </el-select>\r\n\t\t  </el-form-item>\r\n\t\t\t\r\n\t\t  <el-form-item label=\"是否发布\" prop=\"isfabu\">\r\n\t\t    <el-switch v-model=\"ruleForm.isfabu\"></el-switch>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"简介\" prop=\"introduce\">\r\n\t\t    <el-input type=\"textarea\" v-model=\"ruleForm.introduce\"></el-input>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item label=\"文章内容\" prop=\"content\">\r\n\t\t\t\t\r\n\t\t\t\t<!-- 把文本框的内容全部给父组件处理 -->\r\n\t\t   <richeditt @richdietcontenchange=\"richcontetchange\"></richeditt>\r\n\t\t  </el-form-item>\r\n\t\t  <el-form-item>\r\n\t\t    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">修改</el-button>\r\n\t\t    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n\t\t  </el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport 'cropperjs/dist/cropper.css';\r\n\timport Cropper from 'cropperjs';\r\n\timport upload from '@/components/publicizeaticle/upload.vue'\r\n\timport richeditt from '@/components/publicizeaticle/richedit.vue'\r\n\timport {getAllBlogTags} from '@/util/requestnetwork/getAllBlogTags'\r\n\timport {getAllBlogClassfiy} from '@/util/requestnetwork/getAllBlogClassfiy'\r\n\timport {saveBlog} from '@/util/requestnetwork/saveBlog'\r\n\timport {getBlogbyId} from '@/util/requestnetwork/blogrequest'\r\n\timport {updateblog} from '@/util/requestnetwork/blogrequest'\r\n\timport {uploadFileRequest} from '@/util/requestnetwork/uploadFileRequest'\r\n\t\r\n\t// 使用oss\r\n\timport {alibabafilerequestimp} from '@/util/requestnetwork/ossRequestFileToAli'\r\n\timport {filegetprotiy} from '@/util/requestnetwork/ossRequestFileToAli'\r\n\t\r\n\t// 下面换成oss\r\n\texport default{\r\n\t\tname:\"publicizeaticlefrom\",\r\n\t\tcomponents:{\r\n\t\t\tupload,\r\n\t\t\tricheditt\r\n\t\t},\r\n\t\tdata() {\r\n\t\t      return {\r\n\t\t\t\t  dialogVisible:false,\r\n\t\t\t\t  //这个是图像处理的那个duixian\r\n\t\t\t\t  \r\n\t\t\t\t  croppper:null,\r\n\t\t\t\t  // 预览的图片\r\n\t\t\t\t  preimage:\"\",\r\n\t\t\t\t\t\tblogtags:[],\r\n\t\t\t\t\t\tblogclassfiy:[],\r\n\t\t\t\t\t\truleForm: {\r\n\t\t\t\t\t\ttitle: '',\r\n\t\t\t\t\t\tclassfiyname: '',\r\n\t\t\t\t\t\ttagname:\"\",\r\n\t\t\t\t\t\tisfabu: false,\r\n\t\t\t\t\t\ttype: [],\r\n\t\t\t\t\t\t\tintroduce:\"\",\r\n\t\t\t\t\t\t\tcontent:\"\",\r\n\t\t\t\t\t\t\theadimg:\"\"\r\n\t\t        },\r\n\t\t        rules: {\r\n\t\t          title: [\r\n\t\t            { required: true, message: '请输入标题'},\r\n\t\t            { min: 3, max: 30, message: '长度在 3 到 30 个字符'}\r\n\t\t          ],\r\n\t\t          classfiyname: [\r\n\t\t            { required: true, message: '请选择分类', trigger: 'change' }\r\n\t\t          ],\r\n\t\t\t\t  tagname: [\r\n\t\t\t\t    { required: true, message: '标签', trigger: 'change' }\r\n\t\t\t\t  ],\r\n\t\t         \r\n\t\t          type: [\r\n\t\t            { type: 'array', required: true, message: '请至少选择一个活动性质', trigger: 'change' }\r\n\t\t          ],\r\n\t\t\t\t  introduce: [\r\n\t\t\t\t    { required: true, message: '输入文章的简介', trigger: 'change' }\r\n\t\t\t\t  ],\r\n\t\t\t\t  content: [\r\n\t\t\t\t    { required: true, message: '输入文章的内容', trigger: 'change' }\r\n\t\t\t\t  ]\r\n\t\t        }\r\n\t\t      };\r\n\t\t    },\r\n\t\t    methods: {\r\n\t\t      submitForm(formName) {\r\n\t\t        this.$refs[formName].validate((valid) => {\r\n\t\t          if (valid) {\r\n\t\t            //这里是提交数据\r\n\t\t\t\t\t\t\t\tlet blogresult={};\r\n\t\t\t\t\t\t\t\tblogresult.userid=this.$store.state.user.id;\r\n\t\t\t\t\t\t\t\tblogresult.title=this.ruleForm.title;\r\n\t\t\t\t\t\t\t\tblogresult.headimg=this.ruleForm.headimg;\r\n\t\t\t\t\t\t\t\tblogresult.classfiy=this.ruleForm.classfiyname;\r\n\t\t\t\t\t\t\t\tblogresult.tag=this.ruleForm.tagname;\r\n\t\t\t\t\t\t\t\tblogresult.isfabu=this.ruleForm.isfabu?1:0;\r\n\t\t\t\t\t\t\t\tblogresult.introduce=this.ruleForm.introduce;\r\n\t\t\t\t\t\t\t\tblogresult.content=this.ruleForm.content;\r\n\t\t\t\t\t\t\t\tblogresult.id=this.$route.params.blogid;\r\n\t\t\t\t\t\t\t\tconsole.log(JSON.stringify(blogresult));\r\n\t\t\t\t\t\t\t\tupdateblog(JSON.stringify(blogresult)).then(res=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\tif(res.data.status==200){\r\n\t\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: '修改成功',\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"保存blog错误\");\r\n\t\t\t\t\t\t\t\t})\r\n\t\t          } else {\r\n\t\t            console.log('error submit!!');\r\n\t\t            return false;\r\n\t\t          }\r\n\t\t        });\r\n\t\t      },\r\n\t\t      resetForm(formName) {\r\n\t\t        this.$refs[formName].resetFields();\r\n\t\t      },\r\n\t\t\t\t\t// 获得富文本框的内容\r\n\t\t\t\t\trichcontetchange(content){\r\n\t\t\t\t\t\tthis.ruleForm.content=content;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t//获得首图的地址\r\n\t\t\t\t\tgethimg(headimg){\r\n\t\t\t\t\t\tthis.ruleForm.headimg=headimg;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfilechange(){\r\n\t\t\t\t\t\tconsole.log(\"文件修改了\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.dialogVisible=true;\r\n\t\t\t\t\t\tconst file=this.$refs.file;\r\n\t\t\t\t\t\tthis.preimage=window.URL.createObjectURL(file.files[0]);\r\n\t\t\t\t\t\tthis.$refs.file.value=''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdialogOpen(){\r\n\t\t\t\t\t\tconsole.log(\"出来了\")\r\n\t\t\t\t\t\tif(this.croppper!=null){\r\n\t\t\t\t\t\t\tthis.croppper.replace(this.preimage);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst image = this.$refs.digimg;\r\n\t\t\t\t\t\tthis.croppper= new Cropper(image, {\r\n\t\t\t\t\t\taspectRatio: 1,\r\n\t\t\t\t\t\tviewMode:1,\r\n\t\t\t\t\t\tdragMode: \"none\",\r\n\t\t\t\t\t\tcropBoxResizable:true,\r\n\t\t\t\t\t\tcropBoxMovable:true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(\"=========\");\r\n\t\t\t\t\tconsole.log(cropper)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcommitimg(){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// this.dialogVisible=false;\r\n\t\t\t\t\t\tconst fd=new FormData();\r\n\t\t\t\t\t\t// //这里改成oss的\r\n\t\t\t\t\t\tlet url=\"\";\r\n\t\t\t\t\t\t let policy={};\r\n\t\t\t\t\t\t function getUUID () {\r\n\t\t\t\t\t\t   return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\t\t\t\t     return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\r\n\t\t\t\t\t\t   })\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t// this.dialogVisible=false;\r\n\t\t\t\t\t\tthis.croppper.getCroppedCanvas().toBlob((file) => {\r\n\t\t\t\t\t\t\t// 这里上传的时候因为没有名字,所以手动的添加文件的名字\r\n\t\t\t\t\t\t\tlet filename=Math.random()+\".png\";\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfilegetprotiy().then(response=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpolicy.policy = response.data.policy;\r\n\t\t\t\t\t\t\t\t\t\t\t\tpolicy.signature = response.data.signature;\r\n\t\t\t\t\t\t\t\t\t\t\t\tpolicy.ossaccessKeyId = response.data.accessid;\r\n\t\t\t\t\t\t\t\t\t\t\t\tpolicy.key = response.data.dir +getUUID()+'_${filename}';\r\n\t\t\t\t\t\t\t\t\t\t\t\tpolicy.dir = response.data.dir;\r\n\t\t\t\t\t\t\t\t\t\t\t\tpolicy.host = response.data.host;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// _self.dataObj.policy = response.data.policy;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// _self.dataObj.signature = response.data.signature;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// _self.dataObj.ossaccessKeyId = response.data.accessid;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// _self.dataObj.key = response.data.dir +this.getUUID()+'_${filename}';\r\n\t\t\t\t\t\t\t\t\t\t\t\t// _self.dataObj.dir = response.data.dir;\r\n\t\t\t\t\t\t\t\t\t\t\t\t// _self.dataObj.host = response.data.host;\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"policy\",policy.policy);\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"signature\",policy.signature);\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"key\",policy.key);\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"ossaccessKeyId\",policy.ossaccessKeyId);\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"dir\",policy.dir);\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"host\",policy.host);\r\n\t\t\t\t\t\t\t\t\t\t\t\tfd.append(\"file\",file,filename);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t  alibabafilerequestimp(fd).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl=policy.host + '/' + policy.key.replace(\"${filename}\",filename);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.ruleForm.headimg=url;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.dialogVisible=false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// \r\n\t\t\t\t\t\t\t// let filename=Math.random()+\".png\";\r\n\t\t\t\t\t\t\t// const formData = new FormData();\r\n\t\t\t\t\t\t\t// formData.append(\"img\",file,filename);\r\n\t\t\t\t\t\t\t// uploadFileRequest(formData).then(res=>{\r\n\t\t\t\t\t\t\t// \tlet resultimg=res.data.data;\r\n\t\t\t\t\t\t\t// \tthis.ruleForm.headimg=resultimg;\r\n\t\t\t\t\t\t\t// \tthis.dialogVisible=false;\r\n\t\t\t\t\t\t\t// }).catch(error=>{\r\n\t\t\t\t\t\t\t// \t\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t    },\r\n\t\t\t\tcreated(){\r\n\t\t\t\t\t// 这里开始就获取所有的标签\r\n\t\t\t\t\tgetAllBlogTags().then(res=>{\r\n\t\t\t\t\t\tthis.blogtags=res.data.data;\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\tconsole.log(\"请求标签错误\")\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tgetAllBlogClassfiy().then(res=>{\r\n\t\t\t\t\t\tthis.blogclassfiy=res.data.data;\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\tconsole.log(\"请求标签错误\")\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 这里获取传过来的id查询blog\r\n\t\t\t\t\tlet blog={};\r\n\t\t\t\t\tblog.id=this.$route.params.blogid;\r\n\t\t\t\t\tgetBlogbyId(JSON.stringify(blog)).then(res=>{\r\n\t\t\t\t\t\tlet data=res.data.data;\r\n\t\t\t\t\t\t// 这里的分类要重新获得\r\n\t\t\t\t\t\t// 还有标签要获取全部\r\n\t\t\t\t\t\tthis.ruleForm.content=data.content;\r\n\t\t\t\t\t\tthis.ruleForm.title=data.title;\r\n\t\t\t\t\t\tthis.ruleForm.isfabu=data.isfabu;\r\n\t\t\t\t\t\tthis.ruleForm.introduce=data.introduce;\r\n\t\t\t\t\t\tthis.ruleForm.headimg=data.headpic;\r\n\t\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blogedit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blogedit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./blogedit.vue?vue&type=template&id=6638bc5b&\"\nimport script from \"./blogedit.vue?vue&type=script&lang=js&\"\nexport * from \"./blogedit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {request} from '@/util/requestnetwork/request'\r\nexport const saveBlog=data=>{\r\n\treturn request({\r\n\t\tmethod:\"POST\",\r\n\t\turl:\"/rememberme/saveBlog\",\r\n\t\tdata\r\n\t})\r\n}\r\n","import {request} from '@/util/requestnetwork/request'\r\nconst ossfileupload=data=>{\r\n\treturn request({\r\n\t\tmethod:\"POST\",\r\n\t\turl:\"/rememberme/ossFileUpload\",\r\n\t\tdata\r\n\t})\r\n}\r\n// ossFileUpload\r\nexport {ossfileupload}\r\n\r\n","import {request} from '@/util/requestnetwork/request'\r\nexport const getAllBlogClassfiy=data=>{\r\n\treturn request({\r\n\t\tmethod:\"POST\",\r\n\t\turl:\"/rememberme/getAllBlogClassfiy\",\r\n\t\tdata\r\n\t})\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tiptap',{attrs:{\"extensions\":_vm.extensions},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n\t<el-tiptap\r\n\t      v-model=\"content\"\r\n\t      :extensions=\"extensions\"\r\n\t></el-tiptap>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  // necessary extensions\r\n  ElementTiptap,\r\n  Doc,\r\n  Text,\r\n  Paragraph,\r\n  Heading,\r\n  Bold,\r\n  Italic,\r\n  Strike,\r\n  Underline,\r\n  Link,\r\n  Image,\r\n\t// Iframe,\r\n  CodeBlock,\r\n  Blockquote,\r\n  ListItem,\r\n  BulletList, \r\n  OrderedList, \r\n  TodoItem,\r\n  TodoList,\r\n  TextAlign,\r\n  Indent,\r\n  LineHeight,\r\n  HorizontalRule,\r\n  HardBreak,\r\n  TrailingNode,\r\n  History,\r\n  Table ,\r\n  TableHeader,\r\n  TableCell,\r\n  TableRow,\r\n  FormatClear,\r\n  TextColor,\r\n  TextHighlight,\r\n  Preview,\r\n  Print,\r\n  Fullscreen,\r\n  SelectAll,\r\n  FontType,\r\n  FontSize\r\n} from 'element-tiptap';\r\nimport {uploadFileRequest} from '@/util/requestnetwork/uploadFileRequest'\r\nimport {ossfileupload} from '@/util/requestnetwork/OssFileUpload'\r\n\r\nimport {alibabafilerequestimp} from '@/util/requestnetwork/ossRequestFileToAli'\r\nimport {filegetprotiy} from '@/util/requestnetwork/ossRequestFileToAli'\r\nexport default {\r\n  data () {\r\n      // 编辑器的 extensions\r\n      // 它们将会按照你声明的顺序被添加到菜单栏和气泡菜单中\r\n\t  name:\"richeditt\"\r\n      return {\r\n        extensions: [\r\n          new Doc(),\r\n          new Text(),\r\n          new Paragraph(),\r\n          new Heading(),\r\n          new Bold(),\r\n          new Italic(),\r\n          new Strike(),\r\n          new Underline(),\r\n          new Link(),\r\n          new Image({\r\n\t\t\t\t\t\tuploadRequest(file){\r\n\t\t\t\t\t\t\tconst fd=new FormData();\r\n\t\t\t\t\t\t\t// //这里改成oss的\r\n\t\t\t\t\t\t\tlet url=\"\";\r\n\t\t\t\t\t\t\t let policy={};\r\n\t\t\t\t\t\t\t function getUUID () {\r\n\t\t\t\t\t\t\t   return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\t\t\t\t\t     return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\r\n\t\t\t\t\t\t\t   })\r\n\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t// const fd=new FormData();    //定义一个formdata用来存储文件，用于文件的上传\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn \tossfileupload().then(response=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"==========\")\r\n\t\t\t\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\t\t\t\t\tpolicy.policy = response.data.policy;\r\n\t\t\t\t\t\t\t\t\tpolicy.signature = response.data.signature;\r\n\t\t\t\t\t\t\t\t\tpolicy.ossaccessKeyId = response.data.accessid;\r\n\t\t\t\t\t\t\t\t\tpolicy.key = response.data.dir +getUUID()+'_${filename}';\r\n\t\t\t\t\t\t\t\t\tpolicy.dir = response.data.dir;\r\n\t\t\t\t\t\t\t\t\tpolicy.host = response.data.host;\r\n\t\t\t\t\t\t\t\t\t// _self.dataObj.policy = response.data.policy;\r\n\t\t\t\t\t\t\t\t\t// _self.dataObj.signature = response.data.signature;\r\n\t\t\t\t\t\t\t\t\t// _self.dataObj.ossaccessKeyId = response.data.accessid;\r\n\t\t\t\t\t\t\t\t\t// _self.dataObj.key = response.data.dir +this.getUUID()+'_${filename}';\r\n\t\t\t\t\t\t\t\t\t// _self.dataObj.dir = response.data.dir;\r\n\t\t\t\t\t\t\t\t\t// _self.dataObj.host = response.data.host;\r\n\t\t\t\t\t\t\t\t\tfd.append(\"policy\",policy.policy);\r\n\t\t\t\t\t\t\t\t\tfd.append(\"signature\",policy.signature);\r\n\t\t\t\t\t\t\t\t\tfd.append(\"key\",policy.key);\r\n\t\t\t\t\t\t\t\t\tfd.append(\"ossaccessKeyId\",policy.ossaccessKeyId);\r\n\t\t\t\t\t\t\t\t\tfd.append(\"dir\",policy.dir);\r\n\t\t\t\t\t\t\t\t\tfd.append(\"host\",policy.host);\r\n\t\t\t\t\t\t\t\t\tfd.append(\"file\",file);\r\n\t\t\t\t\t\t\t\t\tconsole.log(policy)\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t  alibabafilerequestimp(fd).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"发客户的反馈\")\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\turl=policy.host + '/' + policy.key.replace(\"${filename}\",file.name);\r\n\t\t\t\t\t\t\t\t\tlet urltemp=url;\r\n\t\t\t\t\t\t\t\t\treturn urltemp;\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// return alibabafilerequestimp(fd).then(res=>{\r\n\t\t\t\t\t\t\t// console.log(\"我过劳了\")\r\n\t\t\t\t\t\t\t// return \"https://www.baidu.com/img/flexible/logo/pc/result.png\";\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// return new Promise((resolvt,reject)=>{\r\n\t\t\t\t\t\t\t// \tossfileupload().then(response=>{\r\n\t\t\t\t\t\t\t// \t\tpolicy.policy = response.data.policy;\r\n\t\t\t\t\t\t\t// \t\tpolicy.signature = response.data.signature;\r\n\t\t\t\t\t\t\t// \t\tpolicy.ossaccessKeyId = response.data.accessid;\r\n\t\t\t\t\t\t\t// \t\tpolicy.key = response.data.dir +getUUID()+'_${filename}';\r\n\t\t\t\t\t\t\t// \t\tpolicy.dir = response.data.dir;\r\n\t\t\t\t\t\t\t// \t\tpolicy.host = response.data.host;\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"policy\",policy.policy);\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"key\",policy.key);\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"signature\",policy.signature);\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"dir\",policy.dir);\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"host\",policy.host);\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"ossaccessKeyId\",policy.ossaccessKeyId);\r\n\t\t\t\t\t\t\t// \t\tfd.append(\"file\",file);\r\n\t\t\t\t\t\t\t// \t\tconsole.log(policy)\r\n\t\t\t\t\t\t\t// \t})\r\n\t\t\t\t\t\t\t// }).then(res=>{\r\n\t\t\t\t\t\t\t// \tconsole.log(\"调用了了\")\r\n\t\t\t\t\t\t\t// return url;\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t \t// ossfileupload().then(response=>{\r\n\t\t\t\t\t\t\t\t// \t\t\tlet url=\"\";\r\n\t\t\t\t\t\t\t\t// \t\t  \r\n\t\t\t\t\t\t\t\t// \t\t  alibabafilerequestimp(fd).then(res=>{\r\n\t\t\t\t\t\t\t\t// \t\t\turl=policy.host + '/' + policy.key.replace(\"${filename}\",file.name);\r\n\t\t\t\t\t\t\t\t// \t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t// \t\t\t\r\n\t\t\t\t\t\t\t\t// \t\t})\r\n\t\t\t\t\t\t\t\t// return url;\t\t\r\n\t\t\t\t\t\t\t // })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t// new Iframe(),\r\n          new CodeBlock(),\r\n          new Blockquote(),\r\n          new ListItem(),\r\n          new BulletList(),\r\n          new OrderedList(),\r\n          new TodoItem(),\r\n          new TodoList(),\r\n          new TextAlign(),\r\n          new Indent(),\r\n          new LineHeight(),\r\n          new HorizontalRule(),\r\n          new HardBreak(),\r\n          new TrailingNode(),\r\n          new History(),\r\n          new TableHeader(),\r\n          new TableCell(),\r\n          new TableRow(),\r\n          new FormatClear(),\r\n          new TextColor(),\r\n          new TextHighlight(),\r\n          new Preview(),\r\n          new Print(),\r\n          new Fullscreen(),\r\n          new SelectAll(),\r\n          new FontType(),\r\n          new FontSize()\r\n        ],\r\n        // 编辑器的内容\r\n        content: `\r\n          <h1>开始吧</h1>\r\n        `,\r\n\t\tlang:\"\"\r\n      };\r\n    },\r\n  components:{\r\n\t 'el-tiptap': ElementTiptap,\r\n  },\r\n\twatch:{\r\n\t\tcontent:function(){\r\n\t\t\t\tthis.$emit(\"richdietcontenchange\",this.content)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetUUID () {\r\n\t\t\t  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\t    return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\r\n\t\t\t  })\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n}\r\n</script>\r\n<style>\r\n\t\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./richedit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./richedit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./richedit.vue?vue&type=template&id=aa098a4a&\"\nimport script from \"./richedit.vue?vue&type=script&lang=js&\"\nexport * from \"./richedit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{attrs:{\"action\":\"https://huabei5zhanh.oss-cn-huhehaote.aliyuncs.com\",\"data\":_vm.dataObj,\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"multiple\":false,\"on-success\":_vm.successUpload,\"before-upload\":_vm.beforeUpload,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<el-upload\r\n\t\t  action=\"https://huabei5zhanh.oss-cn-huhehaote.aliyuncs.com\"\r\n\t\t  :data=\"dataObj\"\r\n\t\t  list-type=\"picture-card\"\r\n\t\t  :on-preview=\"handlePictureCardPreview\"\r\n\t\t  :on-remove=\"handleRemove\"\r\n\t\t\t:multiple=\"false\"\r\n\t\t\t:on-success=\"successUpload\"\r\n\t\t\t:before-upload=\"beforeUpload\"\r\n\t\t  :file-list=\"fileList\">\r\n\t\t  <i class=\"el-icon-plus\"></i>\r\n\t\t</el-upload>\r\n\t\t<el-dialog :visible.sync=\"dialogVisible\">\r\n\t\t  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {ossfileupload} from \"@/util/requestnetwork/OssFileUpload\"\r\n  export default {\r\n    data() {\r\n          return {\r\n            dialogImageUrl: '',\r\n            dialogVisible: false,\r\n\t\t\tdataObj: {\r\n\t\t\t  policy: '',\r\n\t\t\t  signature: '',\r\n\t\t\t  key: '',\r\n\t\t\t  ossaccessKeyId: '',\r\n\t\t\t  dir: '',\r\n\t\t\t  host: '',\r\n\t\t\t  // callback:'',\r\n\t\t\t}\r\n          };\r\n        },\r\n        methods: {\r\n          handleRemove(file, fileList) {\r\n            console.log(file, fileList);\r\n          },\r\n          handlePictureCardPreview(file) {\r\n            this.dialogImageUrl = file.url;\r\n            this.dialogVisible = true;\r\n          },\r\n\t\tsuccessUpload(response, file, fileList){\r\n\t\t\tthis.fileList.pop();\r\n\t\t\tthis.fileList.push({name: file.name, url: this.dataObj.host + '/' + this.dataObj.key.replace(\"${filename}\",file.name) });\r\n\t\t\tconsole.log(\"最后的文件地址是\"+this.fileList[0].url)\r\n\t\t\tthis.$emit(\"getheadimg\",this.fileList[0].url);\r\n\t\t},\r\n\t\tbeforeUpload(file) {\r\n\t\t  let _self = this;\r\n\t\t  return new Promise((resolve,reject)=>{\r\n\t\t\t  ossfileupload().then(response=>{\r\n\t\t\t  \t\t\t  console.log(\"紫红色哥是\")\r\n\t\t\t  \t\t\t  console.log(response.data)\r\n\t\t\t  \t\t\t  _self.dataObj.policy = response.data.policy;\r\n\t\t\t  \t\t\t  _self.dataObj.signature = response.data.signature;\r\n\t\t\t  \t\t\t  _self.dataObj.ossaccessKeyId = response.data.accessid;\r\n\t\t\t  \t\t\t  _self.dataObj.key = response.data.dir +this.getUUID()+'_${filename}';\r\n\t\t\t  \t\t\t  _self.dataObj.dir = response.data.dir;\r\n\t\t\t  \t\t\t  _self.dataObj.host = response.data.host;\r\n\t\t\t\t\tresolve(true)\r\n\t\t\t  }).catch(error=>{\r\n\t\t\t  \t\treject(false)\t  \r\n\t\t\t  })\r\n\t\t  })\r\n\t\t  \r\n\t\t},\r\n\t\tgetUUID () {\r\n\t\t  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t    return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\r\n\t\t  })\r\n\t\t}\r\n        },\r\n\t\tcomputed:{\r\n\t\t\tfileList() {\r\n\t\t\t  return []\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=aaa4fc56&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {request} from '@/util/requestnetwork/request'\r\nexport const getAllBlogTags=data=>{\r\n\treturn request({\r\n\t\tmethod:\"POST\",\r\n\t\turl:\"/rememberme/getAllBlogTags\",\r\n\t\tdata\r\n\t})\r\n}\r\n"],"sourceRoot":""}