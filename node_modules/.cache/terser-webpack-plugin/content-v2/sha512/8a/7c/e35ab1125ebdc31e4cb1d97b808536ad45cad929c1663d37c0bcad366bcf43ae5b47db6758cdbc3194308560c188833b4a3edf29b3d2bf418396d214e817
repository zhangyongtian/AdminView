{"map":{"version":3,"sources":["js/chunk-14cc074c.d41c86b4.js"],"names":["window","push","17b8","module","__webpack_exports__","__webpack_require__","r","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","visible","dialogVisible","width","on","update:visible","$event","opened","showopend","ref","staticStyle","display","max-width","src","preimg","alt","slot","click","_v","type","commitphoto","separator-class","to","path","photo","imgurl","hidden","id","change","showdrag","margin-top","for","staticRenderFns","adminrequest","dist_cropper","dist_cropper_default","n","ossRequestFileToAli","photoupdatevue_type_script_lang_js_","name","data","cropper","methods","file","$refs","URL","createObjectURL","files","value","imgg","tarimg","a","aspectRatio","viewMode","dragMode","cropBoxResizable","cropBoxMovable","replace","_this","getCroppedCanvas","toBlob","fd","FormData","url","policy","getUUID","c","Math","random","toString","filename","Object","then","response","signature","ossaccessKeyId","accessid","key","dir","host","append","res","img","JSON","stringify","$message","message","catch","error","created","_this2","$route","params","Photo_photoupdatevue_type_script_lang_js_","componentNormalizer","component","995b","d","savephoto","selectPagePhoto","deletePhotoById","getPhotoById","updatePhotoById","_util_requestnetwork_request__WEBPACK_IMPORTED_MODULE_0__","method"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-14cc074c\"],{\"17b8\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"photoupdate\"},[a(\"el-dialog\",{attrs:{title:\"提示\",visible:t.dialogVisible,width:\"30%\"},on:{\"update:visible\":function(e){t.dialogVisible=e},opened:t.showopend}},[a(\"div\",[a(\"img\",{ref:\"tarimg\",staticStyle:{display:\"block\",\"max-width\":\"100%\"},attrs:{src:t.preimg,alt:\"\"}})]),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.commitphoto}},[t._v(\"确 定\")])],1)]),a(\"el-card\",{staticClass:\"box-card\"},[a(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[a(\"el-breadcrumb\",{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[a(\"el-breadcrumb-item\",{attrs:{to:{path:\"/admin/photoadmin\"}}},[t._v(\"超级管理员界面\")]),a(\"el-breadcrumb-item\",[t._v(\"图片修改\")])],1)],1),a(\"div\",[a(\"el-card\",{staticClass:\"box-card\"},[a(\"img\",{attrs:{src:t.photo.imgurl,alt:\"\"}})]),a(\"input\",{ref:\"file\",attrs:{type:\"file\",hidden:\"hidden\",id:\"file\"},on:{change:t.showdrag}}),a(\"el-button\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{type:\"primary\"}},[a(\"label\",{attrs:{for:\"file\"}},[t._v(\"点击修改\")])])],1)])],1)},o=[],r=(a(\"d3b7\"),a(\"ac1f\"),a(\"25f0\"),a(\"3ca3\"),a(\"5319\"),a(\"ddb0\"),a(\"2b3d\"),a(\"6107\"),a(\"60fb\"),a(\"995b\")),n=a(\"bab4\"),s=a.n(n),c=a(\"53e3\"),d={name:\"photoupdate\",data:function(){return{dialogVisible:!1,preimg:\"\",cropper:null,photo:{}}},methods:{showdrag:function(){this.dialogVisible=!0;var t=this.$refs.file;this.preimg=window.URL.createObjectURL(t.files[0]),this.$refs.file.value=\"\"},showopend:function(){if(null==this.cropper){var t=this.$refs.tarimg;this.cropper=new s.a(t,{aspectRatio:2,viewMode:1,dragMode:\"none\",cropBoxResizable:!0,cropBoxMovable:!0})}else this.cropper.replace(this.preimg)},commitphoto:function(){var t=this;this.cropper.getCroppedCanvas().toBlob((function(e){var a=new FormData,i=\"\",o={};function n(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){return(\"x\"===t?16*Math.random()|0:8).toString(16)}))}var s=Math.random()+\".png\";Object(c[\"b\"])().then((function(d){o.policy=d.data.policy,o.signature=d.data.signature,o.ossaccessKeyId=d.data.accessid,o.key=d.data.dir+n()+\"_${filename}\",o.dir=d.data.dir,o.host=d.data.host,a.append(\"policy\",o.policy),a.append(\"signature\",o.signature),a.append(\"key\",o.key),a.append(\"ossaccessKeyId\",o.ossaccessKeyId),a.append(\"dir\",o.dir),a.append(\"host\",o.host),a.append(\"file\",e,s),Object(c[\"a\"])(a).then((function(e){i=o.host+\"/\"+o.key.replace(\"${filename}\",s),t.photo.imgurl=i;var a={};a.imgurl=t.photo.imgurl,a.id=t.photo.id,Object(r[\"e\"])(JSON.stringify(a)).then((function(e){t.dialogVisible=!1,t.$message({message:\"恭喜你，修改成功\",type:\"success\"})})).catch((function(t){})),t.dialogVisible=!1}))}))}))}},created:function(){var t=this,e={};e.id=this.$route.params[\"photoid\"],Object(r[\"b\"])(JSON.stringify(e)).then((function(e){t.photo=e.data.data})).catch((function(t){}))}},l=d,p=a(\"2877\"),u=Object(p[\"a\"])(l,i,o,!1,null,null,null);e[\"default\"]=u.exports},\"995b\":function(t,e,a){\"use strict\";a.d(e,\"c\",(function(){return o})),a.d(e,\"d\",(function(){return r})),a.d(e,\"a\",(function(){return n})),a.d(e,\"b\",(function(){return s})),a.d(e,\"e\",(function(){return c}));var i=a(\"0acc\"),o=function(t){return Object(i[\"a\"])({method:\"POST\",url:\"/rememberme/admin/savephoto\",data:t})},r=function(t){return Object(i[\"a\"])({method:\"POST\",url:\"/rememberme/admin/selectPagePhoto\",data:t})},n=function(t){return Object(i[\"a\"])({method:\"POST\",url:\"/rememberme/admin/deletePhotoById\",data:t})},s=function(t){return Object(i[\"a\"])({method:\"POST\",url:\"/rememberme/admin/getPhotoById\",data:t})},c=function(t){return Object(i[\"a\"])({method:\"POST\",url:\"/rememberme/admin/updatePhotoById\",data:t})}}}]);","extractedComments":[]}