{"remainingRequest":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\biyesheji\\AdminView\\adminvue\\src\\components\\CommentAdmin\\CommentAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\biyesheji\\AdminView\\adminvue\\src\\components\\CommentAdmin\\CommentAdmin.vue","mtime":1608196421645},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQge3BhcmVuZXRwYWdlY29tbWVudH0gZnJvbSAiQC91dGlsL3JlcXVlc3RuZXR3b3JrL3BhcmVuZXRwYWdlY29tbWVudCIKCWltcG9ydCB7ZGVsZXRlcGFyZW50Y29tbWVudH0gZnJvbSAiQC91dGlsL3JlcXVlc3RuZXR3b3JrL3BhcmVuZXRwYWdlY29tbWVudCIKCQoJaW1wb3J0IHtzb25jb21tZW50UmVxdWVzdH0gZnJvbSAiQC91dGlsL3JlcXVlc3RuZXR3b3JrL3NvbmNvbW1lbnRSZXF1ZXN0IgoJaW1wb3J0IHtkZWxldGVzb25jb21tZW50fSBmcm9tICJAL3V0aWwvcmVxdWVzdG5ldHdvcmsvc29uY29tbWVudFJlcXVlc3QiCgkKCWltcG9ydCBjb21tZW50IGZyb20gIkAvY29tcG9uZW50cy9Db21tZW50QWRtaW4vY29tbWVudCIKICBleHBvcnQgZGVmYXVsdCB7CgkgbmFtZToidXNlcmFkbWluIiwKCSBjb21wb25lbnRzOiB7CgkgCWNvbW1lbnQKCSB9LAoJIG1ldGhvZHM6IHsKCQkgLy8g5LiL6Z2i55qE5Lik5Liq5pa55rOV5bCx6K+05YiG5Yir55qE6I635Y+W5LuW5Lus55qE6aG15pWw6L+Y5pyJ5q+P5LiA6aG155qE5aSn5bCPCiAgICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CgkJCQl0aGlzLnBhZ2VzaXplPXZhbDsKCQkJCWxldCB1c2VyPXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicmVtZWJlcm1lYWRtaW4iKXx8e307CgkJCQl0aGlzLmdldENvbW1lbnRzKHRoaXMuY3VycmVudFBhZ2U0LHRoaXMucGFnZXNpemUsdXNlcik7CiAgICAgIH0sCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CgkJCQl0aGlzLmN1cnJlbnRQYWdlND12YWw7CgkJCQlsZXQgdXNlcj13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInJlbWViZXJtZWFkbWluIil8fHt9OwoJCQkJdGhpcy5nZXRDb21tZW50cyh0aGlzLmN1cnJlbnRQYWdlNCx0aGlzLnBhZ2VzaXplLHVzZXIpOwogICAgICB9LAoJCQlzb25oYW5kbGVTaXplQ2hhbmdlKHZhbCkgewoJCQkJdGhpcy5zb25jb21tZW50cy5wYWdlU2l6ZT12YWw7CgkJCQlsZXQgdXNlcj13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInJlbWViZXJtZWFkbWluIil8fHt9OwoJCQkJdGhpcy5nZXRzb25Db21tZW50cyh0aGlzLnNvbmNvbW1lbnRzLnBhZ2VOdW0sdGhpcy5zb25jb21tZW50cy5wYWdlU2l6ZSx1c2VyKQoJCQl9LAoJCQlzb25oYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewoJCQkJdGhpcy5zb25jb21tZW50cy5wYWdlTnVtPXZhbDsKCQkJCWxldCB1c2VyPXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicmVtZWJlcm1lYWRtaW4iKXx8e307CgkJCQl0aGlzLmdldHNvbkNvbW1lbnRzKHRoaXMuc29uY29tbWVudHMucGFnZU51bSx0aGlzLnNvbmNvbW1lbnRzLnBhZ2VTaXplLHVzZXIpCgkJCX0sCgkJCWdldENvbW1lbnRzKHBhZ2VOdW0scGFnZVNpemUsdXNlcil7CgkJCQlsZXQgcGFnZXJlcXVlc3Q9e307CgkJCQlwYWdlcmVxdWVzdC5wYWdlTnVtPXBhZ2VOdW07CgkJCQlwYWdlcmVxdWVzdC5wYWdlU2l6ZT1wYWdlU2l6ZTsKCQkJCXBhZ2VyZXF1ZXN0LnVzZXJpZD1KU09OLnBhcnNlKHVzZXIpLmlkOwoJCQkJcGFyZW5ldHBhZ2Vjb21tZW50KEpTT04uc3RyaW5naWZ5KHBhZ2VyZXF1ZXN0KSkudGhlbihyZXM9PnsKCQkJCQljb25zb2xlLmxvZyhyZXMpCgkJCQkJbGV0IGRhdGE9cmVzLmRhdGEuZGF0YTsKCQkJCQl0aGlzLmN1cnJlbnRQYWdlND1kYXRhLnBhZ2VOdW07CgkJCQkJdGhpcy5wYWdlc2l6ZT1kYXRhLnBhZ2VTaXplOwoJCQkJCXRoaXMudG90YWxzaXplPWRhdGEudG90YWxTaXplOwoJCQkJCXRoaXMucGFyZW50Y29tbWVudHM9ZGF0YS5jb250ZW50OwoJCQkJfSkuY2F0Y2goZXJyb3I9PnsKCQkJCQljb25zb2xlLmxvZygi6I635Y+W54i26K+E6K665aSx6LSlIikKCQkJCX0pCgkJCX0sCgkJCWdldHNvbkNvbW1lbnRzKHBhZ2VOdW0scGFnZVNpemUsdXNlcil7CgkJCQlsZXQgcGFnZXJlcXVlc3Q9e307CgkJCQlwYWdlcmVxdWVzdC5wYWdlTnVtPXBhZ2VOdW07CgkJCQlwYWdlcmVxdWVzdC5wYWdlU2l6ZT1wYWdlU2l6ZTsKCQkJCXBhZ2VyZXF1ZXN0LnVzZXJpZD1KU09OLnBhcnNlKHVzZXIpLmlkOwoJCQkJc29uY29tbWVudFJlcXVlc3QoSlNPTi5zdHJpbmdpZnkocGFnZXJlcXVlc3QpKS50aGVuKHJlcz0+ewoJCQkJCXRoaXMuc29uY29tbWVudHM9cmVzLmRhdGEuZGF0YTsKCQkJCQljb25zb2xlLmxvZygi5omT5Y2w5a2Q57uE5Lu255qE5YaF5a65Iik7CgkJCQkJY29uc29sZS5sb2codGhpcy5zb25jb21tZW50cykKCQkJCX0pLmNhdGNoKGVycm9yPT57CgkJCQkJY29uc29sZS5sb2coIuiOt+WPlueItuivhOiuuuWksei0pSIpCgkJCQl9KQoJCQl9LAoJCQlkZWxldGVDb21tZW50QnlJdGVtKGNvbW1lbnRpdGVtLGNvbW1lbnRJZCl7CgkJCQljb25zb2xlLmxvZyh0aGlzLnRhYm51bSkKCQkJCS8vIOeCueWHu+eahOaXtuWAmeiOt+WPluWIsOWIoOmZpOeahGl0ZW3ov5jmnIlpZCzlhYjkv53lrZjotbfmnaUs54S25ZCO55So5qih5oCB54K55Ye756Gu6K6k55qE5pe25YCZ54S25ZCO5Zyo6LCD55So5Yig6Zmk5Ye95pWwCgkJCQlpZih0aGlzLnRhYm51bT09MCl7CgkJCQkJdGhpcy5jb21tZW50aXRlbT1jb21tZW50aXRlbTsKCQkJCQl0aGlzLmNvbW1lbnRJZD1jb21tZW50SWQ7CgkJCQkJdGhpcy5kaWFsb2dWaXNpYmxlPXRydWU7CgkJCQl9ZWxzZXsKCQkJCQl0aGlzLnNvbmNvbW1lbnRpdGVtPWNvbW1lbnRpdGVtOwoJCQkJCXRoaXMuc29uY29tbWVudElkPWNvbW1lbnRJZDsKCQkJCQl0aGlzLnNvbmRpYWxvZ1Zpc2libGU9dHJ1ZTsKCQkJCX0KCQkJfSwKCQkJLy8g5a6a5LmJ5LiA5Liq5pa55rOVLOS8oOWFpeS4gOS4quaVsOe7hCzov5jmnInkuIDkuKrkuIvmoIfliKDpmaTmlbDnu4Tlr7nlupTkuIvmoIfnmoTlhYPntKAKCQkJcmVtb3ZlSXRlbUJ5SW5kZXgoYXJyYXksaW5kZXgpewoJCQkJLy8g5aaC5p6c5Yig6Zmk55qE5piv5pyA5ZCO5LiA5Liq5bCx55u05o6lCgkJCQlpZihpbmRleD09YXJyYXkubGVuZ3RoLTEpewoJCQkJCWFycmF5LnBvcCgpOwoJCQkJfWVsc2V7CgkJCQkJZm9yKGxldCBpPWluZGV4O2k8YXJyYXkubGVuZ3RoO2krKyl7CgkJCQkJCWFycmF5W2ldPWFycmF5W2krMV07CgkJCQkJfQoJCQkJCWFycmF5LnBvcCgpOwoJCQkJfQoJCQl9LAoJCQlkZWxldGVjb21tZW50KCl7CgkJCQl0aGlzLmRpYWxvZ1Zpc2libGU9ZmFsc2U7CgkJCQl0aGlzLnJlbW92ZUl0ZW1CeUluZGV4KHRoaXMucGFyZW50Y29tbWVudHMsdGhpcy5jb21tZW50aXRlbSk7CgkJCQlsZXQgcGFyZW50Q29tZW50PXt9OwoJCQkJcGFyZW50Q29tZW50LmlkPXRoaXMuY29tbWVudElkOwoJCQkJZGVsZXRlcGFyZW50Y29tbWVudChKU09OLnN0cmluZ2lmeShwYXJlbnRDb21lbnQpKS50aGVuKHJlcz0+ewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCSAgIHR5cGU6ICdzdWNjZXNzJywKCQkJCQkgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKCQkJCQkgfSk7CgkJCQl9KS5jYXRjaChlcnJvcj0+ewoJCQkJCWNvbnNvbGUubG9nKCLliKDpmaTmiJDlip8iKQoJCQkJfSkKCQkJCSAKCQkJfSwKCQkJaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewoJCQkJaWYodGFiLnBhbmVOYW1lPT0wKXsKCQkJCQkvLyDov5nph4zkv53nlZnlh7rmnaUKCQkJCQkvL2NvbnNvbGUubG9nKCLov5nph4zmmK/niLbor4TorrrnmoTlhoXlrrkiKQoJCQkJCXRoaXMudGFibnVtPXRhYi5wYW5lTmFtZTsKCQkJCX1lbHNlIGlmKHRhYi5wYW5lTmFtZT09MSl7CgkJCQkJY29uc29sZS5sb2coIui/memHjOaYr+WtkOivhOiuuueahOWGheWuuSIpOwoJCQkJCXRoaXMudGFibnVtPXRhYi5wYW5lTmFtZTsKCQkJCQkKCQkJCX0KICAgICAgfSwKCQkJc29uZGVsZXRlY29tbWVudCgpewoJCQkJdGhpcy5zb25kaWFsb2dWaXNpYmxlPWZhbHNlOwoJCQkJdGhpcy5yZW1vdmVJdGVtQnlJbmRleCh0aGlzLnNvbmNvbW1lbnRzLmNvbnRlbnQsdGhpcy5zb25jb21tZW50aXRlbSk7CgkJCQlsZXQgcGFyZW50Q29tZW50PXt9OwoJCQkJcGFyZW50Q29tZW50LmlkPXRoaXMuc29uY29tbWVudElkOwoJCQkJZGVsZXRlc29uY29tbWVudChKU09OLnN0cmluZ2lmeShwYXJlbnRDb21lbnQpKS50aGVuKHJlcz0+ewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCSAgIHR5cGU6ICdzdWNjZXNzJywKCQkJCQkgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKCQkJCQkgfSk7CgkJCQl9KS5jYXRjaChlcnJvcj0+ewoJCQkJCWNvbnNvbGUubG9nKCLliKDpmaTmiJDlip8iKQoJCQkJfSkKCQkJfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY3VycmVudFBhZ2U0OiAxLAoJCQkJcGFnZXNpemU6MTAsCgkJCQlwYWdlc2l6ZXM6WzEwLCAyMCwgMzAsIDEwMF0sCgkJCQl0b3RhbHNpemU6NDAwLAoJCQkJcGFyZW50Y29tbWVudHM6W10sCgkJCQlkaWFsb2dWaXNpYmxlOiBmYWxzZSwKCQkJCWNvbW1lbnRpdGVtOi0xLAoJCQkJY29tbWVudElkOi0xLAoJCQkJc29uY29tbWVudHM6e30sCgkJCQl0YWJudW06MCwKCQkJCXNvbmRpYWxvZ1Zpc2libGU6ZmFsc2UsCgkJCQlzb25jb21tZW50aXRlbTotMSwKCQkJCXNvbmNvbW1lbnRJZDotMQoJCQkJCgkJCQkvLyDkuIvpnaLmmK/lrZDor4TorrrnmoTlhoXlrrkKICAgICAgfTsKICAgIH0sCgkJY3JlYXRlZCgpewoJCQkvLyDlvIDlp4vnmoTml7blgJnlj5HpgIHor7fmsYLojrflj5blvZPliY3liJ3lp4vljJbnmoTor4TorroKCQkJbGV0IHVzZXI9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJyZW1lYmVybWVhZG1pbiIpfHx7fTsKCQkJdGhpcy5nZXRDb21tZW50cyh0aGlzLmN1cnJlbnRQYWdlNCx0aGlzLnBhZ2VzaXplLHVzZXIpOwoJCQkvL+S4i+mdouaYr+iOt+WPluWtkOivhOiuuueahOS/oeaBrwoJCQl0aGlzLmdldHNvbkNvbW1lbnRzKHRoaXMuY3VycmVudFBhZ2U0LHRoaXMucGFnZXNpemUsdXNlcik7CgkJfSwKCQlmaWx0ZXJzOnsKCQkJZGF0ZUZpbHRlcihpdGVtKXsKCQkJCWxldCBwb2ludEZsYWc9aXRlbS5pbmRleE9mKCIuIik7CgkJCQlyZXR1cm4gaXRlbS5zdWJzdHJpbmcoMCxwb2ludEZsYWcpLnJlcGxhY2UoIlQiLCIgICIpOwoJCQl9CgkJfQogIH0K"},{"version":3,"sources":["CommentAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentAdmin.vue","sourceRoot":"src/components/CommentAdmin","sourcesContent":["<template>\r\n  <div class=\"user-content\">\r\n\t  <el-card class=\"box-card\">\r\n\t    <div slot=\"header\" class=\"clearfix\">\r\n\t      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t        <el-breadcrumb-item :to=\"{ path: '/admin' }\">首页</el-breadcrumb-item>\r\n\t        <el-breadcrumb-item>评论管理</el-breadcrumb-item>\r\n\t      </el-breadcrumb>\r\n\t    </div>\r\n\t    <!-- //下面是显示的评论内容 -->\r\n\t\t\t<el-tabs type=\"border-card\" @tab-click=\"handleClick\">\r\n\t\t\t\t\t<el-tab-pane label=\"父评论管理\">\r\n\t\t\t\t\t\t<div v-for=\"(item,index) in parentcomments\" style=\"margin-top: 5px;\">\r\n\t\t\t\t\t\t\t\t<comment :comment=\"item\" :commentItem=\"index\" @deleteCommentByItem=\"deleteCommentByItem\"></comment>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- 下面是分页 -->\r\n\t\t\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t  @size-change=\"handleSizeChange\"\r\n\t\t\t\t\t\t  @current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t\t  :current-page=\"currentPage4\"\r\n\t\t\t\t\t\t  :page-sizes=\"pagesizes\"\r\n\t\t\t\t\t\t  :page-size=\"pagesize\"\r\n\t\t\t\t\t\t  layout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t  :total=\"totalsize\">\r\n\t\t\t\t\t\t</el-pagination>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"子评论管理\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div v-for=\"(item,index) in soncomments.content\" style=\"margin-top: 5px;\">\r\n\t\t\t\t\t\t\t\t\t<comment :comment=\"item\" :commentItem=\"index\" @deleteCommentByItem=\"deleteCommentByItem\"></comment>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- 下面是分页 -->\r\n\t\t\t\t\t\t\t\t<el-pagination\r\n\t\t\t\t\t\t\t  @size-change=\"sonhandleSizeChange\"\r\n\t\t\t\t\t\t\t  @current-change=\"sonhandleCurrentChange\"\r\n\t\t\t\t\t\t\t  :current-page=\"soncomments.pageNum\"\r\n\t\t\t\t\t\t\t  :page-sizes=\"pagesizes\"\r\n\t\t\t\t\t\t\t  :page-size=\"soncomments.pageSize\"\r\n\t\t\t\t\t\t\t  layout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t\t\t\t  :total=\"soncomments.totalSize\">\r\n\t\t\t\t\t\t\t</el-pagination>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t\t<!-- 下面定义一个模态框确认是否删除 -->\r\n\t\t\t<el-dialog\r\n\t\t\ttitle=\"提示\"\r\n\t\t\t:visible.sync=\"dialogVisible\"\r\n\t\t\twidth=\"30%\"\r\n\t\t\t>\r\n\t\t\t<span>删除一条父评论会删除这个评论下面的所有的子评论确认删除吗?</span>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"deletecomment\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t\t\r\n\t\t<!-- 下面是一个子模态 -->\r\n\t\t\t<el-dialog\r\n\t\t\ttitle=\"提示\"\r\n\t\t\t:visible.sync=\"sondialogVisible\"\r\n\t\t\twidth=\"30%\"\r\n\t\t\t>\r\n\t\t\t<span>确定要删除这个评论吗?</span>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"sondialogVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"sondeletecomment\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t  </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\timport {parenetpagecomment} from \"@/util/requestnetwork/parenetpagecomment\"\r\n\timport {deleteparentcomment} from \"@/util/requestnetwork/parenetpagecomment\"\r\n\t\r\n\timport {soncommentRequest} from \"@/util/requestnetwork/soncommentRequest\"\r\n\timport {deletesoncomment} from \"@/util/requestnetwork/soncommentRequest\"\r\n\t\r\n\timport comment from \"@/components/CommentAdmin/comment\"\r\n  export default {\r\n\t name:\"useradmin\",\r\n\t components: {\r\n\t \tcomment\r\n\t },\r\n\t methods: {\r\n\t\t // 下面的两个方法就说分别的获取他们的页数还有每一页的大小\r\n      handleSizeChange(val) {\r\n\t\t\t\tthis.pagesize=val;\r\n\t\t\t\tlet user=window.localStorage.getItem(\"remebermeadmin\")||{};\r\n\t\t\t\tthis.getComments(this.currentPage4,this.pagesize,user);\r\n      },\r\n      handleCurrentChange(val) {\r\n\t\t\t\tthis.currentPage4=val;\r\n\t\t\t\tlet user=window.localStorage.getItem(\"remebermeadmin\")||{};\r\n\t\t\t\tthis.getComments(this.currentPage4,this.pagesize,user);\r\n      },\r\n\t\t\tsonhandleSizeChange(val) {\r\n\t\t\t\tthis.soncomments.pageSize=val;\r\n\t\t\t\tlet user=window.localStorage.getItem(\"remebermeadmin\")||{};\r\n\t\t\t\tthis.getsonComments(this.soncomments.pageNum,this.soncomments.pageSize,user)\r\n\t\t\t},\r\n\t\t\tsonhandleCurrentChange(val) {\r\n\t\t\t\tthis.soncomments.pageNum=val;\r\n\t\t\t\tlet user=window.localStorage.getItem(\"remebermeadmin\")||{};\r\n\t\t\t\tthis.getsonComments(this.soncomments.pageNum,this.soncomments.pageSize,user)\r\n\t\t\t},\r\n\t\t\tgetComments(pageNum,pageSize,user){\r\n\t\t\t\tlet pagerequest={};\r\n\t\t\t\tpagerequest.pageNum=pageNum;\r\n\t\t\t\tpagerequest.pageSize=pageSize;\r\n\t\t\t\tpagerequest.userid=JSON.parse(user).id;\r\n\t\t\t\tparenetpagecomment(JSON.stringify(pagerequest)).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tlet data=res.data.data;\r\n\t\t\t\t\tthis.currentPage4=data.pageNum;\r\n\t\t\t\t\tthis.pagesize=data.pageSize;\r\n\t\t\t\t\tthis.totalsize=data.totalSize;\r\n\t\t\t\t\tthis.parentcomments=data.content;\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(\"获取父评论失败\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetsonComments(pageNum,pageSize,user){\r\n\t\t\t\tlet pagerequest={};\r\n\t\t\t\tpagerequest.pageNum=pageNum;\r\n\t\t\t\tpagerequest.pageSize=pageSize;\r\n\t\t\t\tpagerequest.userid=JSON.parse(user).id;\r\n\t\t\t\tsoncommentRequest(JSON.stringify(pagerequest)).then(res=>{\r\n\t\t\t\t\tthis.soncomments=res.data.data;\r\n\t\t\t\t\tconsole.log(\"打印子组件的内容\");\r\n\t\t\t\t\tconsole.log(this.soncomments)\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(\"获取父评论失败\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeleteCommentByItem(commentitem,commentId){\r\n\t\t\t\tconsole.log(this.tabnum)\r\n\t\t\t\t// 点击的时候获取到删除的item还有id,先保存起来,然后用模态点击确认的时候然后在调用删除函数\r\n\t\t\t\tif(this.tabnum==0){\r\n\t\t\t\t\tthis.commentitem=commentitem;\r\n\t\t\t\t\tthis.commentId=commentId;\r\n\t\t\t\t\tthis.dialogVisible=true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.soncommentitem=commentitem;\r\n\t\t\t\t\tthis.soncommentId=commentId;\r\n\t\t\t\t\tthis.sondialogVisible=true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 定义一个方法,传入一个数组,还有一个下标删除数组对应下标的元素\r\n\t\t\tremoveItemByIndex(array,index){\r\n\t\t\t\t// 如果删除的是最后一个就直接\r\n\t\t\t\tif(index==array.length-1){\r\n\t\t\t\t\tarray.pop();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfor(let i=index;i<array.length;i++){\r\n\t\t\t\t\t\tarray[i]=array[i+1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarray.pop();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeletecomment(){\r\n\t\t\t\tthis.dialogVisible=false;\r\n\t\t\t\tthis.removeItemByIndex(this.parentcomments,this.commentitem);\r\n\t\t\t\tlet parentComent={};\r\n\t\t\t\tparentComent.id=this.commentId;\r\n\t\t\t\tdeleteparentcomment(JSON.stringify(parentComent)).then(res=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t   type: 'success',\r\n\t\t\t\t\t   message: '删除成功!'\r\n\t\t\t\t\t });\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(\"删除成功\")\r\n\t\t\t\t})\r\n\t\t\t\t \r\n\t\t\t},\r\n\t\t\thandleClick(tab, event) {\r\n\t\t\t\tif(tab.paneName==0){\r\n\t\t\t\t\t// 这里保留出来\r\n\t\t\t\t\t//console.log(\"这里是父评论的内容\")\r\n\t\t\t\t\tthis.tabnum=tab.paneName;\r\n\t\t\t\t}else if(tab.paneName==1){\r\n\t\t\t\t\tconsole.log(\"这里是子评论的内容\");\r\n\t\t\t\t\tthis.tabnum=tab.paneName;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n      },\r\n\t\t\tsondeletecomment(){\r\n\t\t\t\tthis.sondialogVisible=false;\r\n\t\t\t\tthis.removeItemByIndex(this.soncomments.content,this.soncommentitem);\r\n\t\t\t\tlet parentComent={};\r\n\t\t\t\tparentComent.id=this.soncommentId;\r\n\t\t\t\tdeletesoncomment(JSON.stringify(parentComent)).then(res=>{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t   type: 'success',\r\n\t\t\t\t\t   message: '删除成功!'\r\n\t\t\t\t\t });\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(\"删除成功\")\r\n\t\t\t\t})\r\n\t\t\t}\r\n    },\r\n    data() {\r\n      return {\r\n        currentPage4: 1,\r\n\t\t\t\tpagesize:10,\r\n\t\t\t\tpagesizes:[10, 20, 30, 100],\r\n\t\t\t\ttotalsize:400,\r\n\t\t\t\tparentcomments:[],\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\tcommentitem:-1,\r\n\t\t\t\tcommentId:-1,\r\n\t\t\t\tsoncomments:{},\r\n\t\t\t\ttabnum:0,\r\n\t\t\t\tsondialogVisible:false,\r\n\t\t\t\tsoncommentitem:-1,\r\n\t\t\t\tsoncommentId:-1\r\n\t\t\t\t\r\n\t\t\t\t// 下面是子评论的内容\r\n      };\r\n    },\r\n\t\tcreated(){\r\n\t\t\t// 开始的时候发送请求获取当前初始化的评论\r\n\t\t\tlet user=window.localStorage.getItem(\"remebermeadmin\")||{};\r\n\t\t\tthis.getComments(this.currentPage4,this.pagesize,user);\r\n\t\t\t//下面是获取子评论的信息\r\n\t\t\tthis.getsonComments(this.currentPage4,this.pagesize,user);\r\n\t\t},\r\n\t\tfilters:{\r\n\t\t\tdateFilter(item){\r\n\t\t\t\tlet pointFlag=item.indexOf(\".\");\r\n\t\t\t\treturn item.substring(0,pointFlag).replace(\"T\",\"  \");\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n</script>\r\n<style lang=\"less\">\r\n\t.user-content{\r\n\t\ttext-align: left;\r\n\t}\r\n</style>\r\n"]}]}