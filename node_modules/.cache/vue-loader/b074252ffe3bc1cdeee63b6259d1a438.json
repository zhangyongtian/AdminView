{"remainingRequest":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\biyesheji\\AdminView\\adminvue\\src\\components\\Photo\\PhotoAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\biyesheji\\AdminView\\adminvue\\src\\components\\Photo\\PhotoAdmin.vue","mtime":1607240024466},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQge3NlbGVjdFBhZ2VQaG90b30gZnJvbSAiQC91dGlsL3JlcXVlc3RuZXR3b3JrL2FkbWlucmVxdWVzdCIKCWltcG9ydCB7ZGVsZXRlUGhvdG9CeUlkfSBmcm9tICJAL3V0aWwvcmVxdWVzdG5ldHdvcmsvYWRtaW5yZXF1ZXN0IgoJCglpbXBvcnQgcGhvdG9pdGVtIGZyb20gIkAvY29tcG9uZW50cy9QaG90by9waG90b2l0ZW0iCglleHBvcnQgZGVmYXVsdHsKCQluYW1lOiJwaG90b2FkbWluIiwKCQljb21wb25lbnRzOiB7CgkJCXBob3RvaXRlbQoJCX0sCgkJbWV0aG9kczogewoJCQloYW5kbGVTaXplQ2hhbmdlKHZhbCkgewoJCQkJdGhpcy5wYWdlU2l6ZT12YWw7CgkJCQl0aGlzLnNlbGVjdHBhZ2VpbWcodGhpcy5jdXJyZW50UGFnZTQsdGhpcy5wYWdlU2l6ZSkKCQkJfSwKCQkJaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKCQkJCXRoaXMuY3VycmVudFBhZ2U0PXZhbDsKCQkJCXRoaXMuc2VsZWN0cGFnZWltZyh0aGlzLmN1cnJlbnRQYWdlNCx0aGlzLnBhZ2VTaXplKQoJCQl9LAoJCQlzZWxlY3RwYWdlaW1nKHBhZ2VOdW0scGFnZVNpemUpewoJCQkJbGV0IHBhZ2VSZXF1ZXN0PXt9OwoJCQkJCgkJCQlwYWdlUmVxdWVzdC5wYWdlU2l6ZT1wYWdlU2l6ZTsKCQkJCXBhZ2VSZXF1ZXN0LnBhZ2VOdW09cGFnZU51bTsKCQkJCWNvbnNvbGUubG9nKHBhZ2VSZXF1ZXN0KQoJCQkJc2VsZWN0UGFnZVBob3RvKEpTT04uc3RyaW5naWZ5KHBhZ2VSZXF1ZXN0KSkudGhlbihyZXM9PnsKCQkJCQljb25zb2xlLmxvZyhyZXMpCgkJCQkJCgkJCQkJbGV0IGRhdGE9cmVzLmRhdGEuZGF0YTsKCQkJCQl0aGlzLmltZ2NvbnRlbnQ9ZGF0YS5jb250ZW50OwoJCQkJCXRoaXMudG90YWxTaXplPWRhdGEudG90YWxTaXplOwoJCQkJfSkuY2F0Y2goZXJyb3I9PnsKCQkJCQkKCQkJCX0pCgkJCX0sCgkJCWRlbGV0ZXBob3RvaXRlbShpbWdpZCxpbmRleCl7CgkJCQlsZXQgcGhvdG89e307CgkJCQlwaG90by5pZD1pbWdpZDsKCQkJCWRlbGV0ZVBob3RvQnlJZChKU09OLnN0cmluZ2lmeShwaG90bykpLnRoZW4ocmVzPT57CgkJCQkJY29uc29sZS5sb2cocmVzKTsKCQkJCX0pLmNhdGNoKGVycm9yPT57CgkJCQkJCgkJCQl9KQoJCQkJdGhpcy5yZW1vdmVJdGVtQnlJbmRleCh0aGlzLmltZ2NvbnRlbnQsaW5kZXgpOwoJCQl9LAoJCQlyZW1vdmVJdGVtQnlJbmRleChhcnJheSxpbmRleCl7CgkJCQkvLyDlpoLmnpzliKDpmaTnmoTmmK/mnIDlkI7kuIDkuKrlsLHnm7TmjqUKCQkJCWlmKGluZGV4PT1hcnJheS5sZW5ndGgtMSl7CgkJCQkJYXJyYXkucG9wKCk7CgkJCQl9ZWxzZXsKCQkJCQlmb3IobGV0IGk9aW5kZXg7aTxhcnJheS5sZW5ndGg7aSsrKXsKCQkJCQkJYXJyYXlbaV09YXJyYXlbaSsxXTsKCQkJCQl9CgkJCQkJYXJyYXkucG9wKCk7CgkJCQl9CgkJCX0KCQkJfSwKCQlkYXRhKCkgewoJCQlyZXR1cm4gewoJCQkJY3VycmVudFBhZ2U0OiA0LAoJCQkJcGFnZVNpemVzOls1LCAxMCwgMzAsIDEwMF0sCgkJCQlwYWdlU2l6ZTo1LAoJCQkJdG90YWxTaXplOjQwMCwKCQkJCWltZ2NvbnRlbnQ6W10KCQkJfTsKICAgIH0sCgljcmVhdGVkKCl7CgkJdGhpcy5zZWxlY3RwYWdlaW1nKHRoaXMuY3VycmVudFBhZ2U0LHRoaXMucGFnZVNpemUpCgl9Cgl9Cg=="},{"version":3,"sources":["PhotoAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhotoAdmin.vue","sourceRoot":"src/components/Photo","sourcesContent":["<template>\r\n\t<div class=\"photo_content\">\r\n\t\t<div>\r\n\t\t\t<el-card class=\"box-card\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t\t\t\t\t<el-breadcrumb-item :to=\"{ path: '/admin/photoadmin' }\">超级管理员界面</el-breadcrumb-item>\r\n\t\t\t\t\t<el-breadcrumb-item>照片墙管理</el-breadcrumb-item>\r\n\t\t\t\t</el-breadcrumb>\r\n\t\t\t</div>\r\n\t\t\t<!-- 这里是内容的部分 -->\r\n\t\t\t<div style=\"display: flex;flex-wrap: wrap;\">\r\n\t\t\t\t<template v-for=\"(img,index) in imgcontent\">\r\n\t\t\t\t\t<photoitem :img=\"img\" :index=\"index\" @deletephotoitem=\"deletephotoitem\"></photoitem>\r\n\t\t\t\t</template>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- 下面是分页 -->\r\n\t\t\t<el-pagination\r\n\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\t:current-page=\"currentPage4\"\r\n\t\t\t\t:page-sizes=\"pageSizes\"\r\n\t\t\t\t:page-size=\"pageSize\"\r\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t:total=\"totalSize\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</el-card>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\timport {selectPagePhoto} from \"@/util/requestnetwork/adminrequest\"\r\n\timport {deletePhotoById} from \"@/util/requestnetwork/adminrequest\"\r\n\t\r\n\timport photoitem from \"@/components/Photo/photoitem\"\r\n\texport default{\r\n\t\tname:\"photoadmin\",\r\n\t\tcomponents: {\r\n\t\t\tphotoitem\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tthis.pageSize=val;\r\n\t\t\t\tthis.selectpageimg(this.currentPage4,this.pageSize)\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.currentPage4=val;\r\n\t\t\t\tthis.selectpageimg(this.currentPage4,this.pageSize)\r\n\t\t\t},\r\n\t\t\tselectpageimg(pageNum,pageSize){\r\n\t\t\t\tlet pageRequest={};\r\n\t\t\t\t\r\n\t\t\t\tpageRequest.pageSize=pageSize;\r\n\t\t\t\tpageRequest.pageNum=pageNum;\r\n\t\t\t\tconsole.log(pageRequest)\r\n\t\t\t\tselectPagePhoto(JSON.stringify(pageRequest)).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet data=res.data.data;\r\n\t\t\t\t\tthis.imgcontent=data.content;\r\n\t\t\t\t\tthis.totalSize=data.totalSize;\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeletephotoitem(imgid,index){\r\n\t\t\t\tlet photo={};\r\n\t\t\t\tphoto.id=imgid;\r\n\t\t\t\tdeletePhotoById(JSON.stringify(photo)).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\tthis.removeItemByIndex(this.imgcontent,index);\r\n\t\t\t},\r\n\t\t\tremoveItemByIndex(array,index){\r\n\t\t\t\t// 如果删除的是最后一个就直接\r\n\t\t\t\tif(index==array.length-1){\r\n\t\t\t\t\tarray.pop();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfor(let i=index;i<array.length;i++){\r\n\t\t\t\t\t\tarray[i]=array[i+1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarray.pop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentPage4: 4,\r\n\t\t\t\tpageSizes:[5, 10, 30, 100],\r\n\t\t\t\tpageSize:5,\r\n\t\t\t\ttotalSize:400,\r\n\t\t\t\timgcontent:[]\r\n\t\t\t};\r\n    },\r\n\tcreated(){\r\n\t\tthis.selectpageimg(this.currentPage4,this.pageSize)\r\n\t}\r\n\t}\n</script>\n\n<style lang=\"less\">\r\n\t\n</style>\n"]}]}