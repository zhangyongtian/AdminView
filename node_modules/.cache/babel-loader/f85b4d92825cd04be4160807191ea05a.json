{"remainingRequest":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\babel-loader\\lib\\index.js!D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\biyesheji\\AdminView\\adminvue\\src\\components\\publicizeaticle\\upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\biyesheji\\AdminView\\adminvue\\src\\components\\publicizeaticle\\upload.vue","mtime":1609373610621},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\biyesheji\\AdminView\\adminvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG9zc2ZpbGV1cGxvYWQgfSBmcm9tICJAL3V0aWwvcmVxdWVzdG5ldHdvcmsvT3NzRmlsZVVwbG9hZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGF0YU9iajogewogICAgICAgIHBvbGljeTogJycsCiAgICAgICAgc2lnbmF0dXJlOiAnJywKICAgICAgICBrZXk6ICcnLAogICAgICAgIG9zc2FjY2Vzc0tleUlkOiAnJywKICAgICAgICBkaXI6ICcnLAogICAgICAgIGhvc3Q6ICcnIC8vIGNhbGxiYWNrOicnLAoKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgIH0sCiAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7CiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBzdWNjZXNzVXBsb2FkOiBmdW5jdGlvbiBzdWNjZXNzVXBsb2FkKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmZpbGVMaXN0LnBvcCgpOwogICAgICB0aGlzLmZpbGVMaXN0LnB1c2goewogICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICB1cmw6IHRoaXMuZGF0YU9iai5ob3N0ICsgJy8nICsgdGhpcy5kYXRhT2JqLmtleS5yZXBsYWNlKCIke2ZpbGVuYW1lfSIsIGZpbGUubmFtZSkKICAgICAgfSk7CiAgICAgIHRoaXMuJGVtaXQoImdldGhlYWRpbWciLCB0aGlzLmZpbGVMaXN0WzBdLnVybCk7CiAgICB9LAogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIF9zZWxmID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgb3NzZmlsZXVwbG9hZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfc2VsZi5kYXRhT2JqLnBvbGljeSA9IHJlc3BvbnNlLmRhdGEucG9saWN5OwogICAgICAgICAgX3NlbGYuZGF0YU9iai5zaWduYXR1cmUgPSByZXNwb25zZS5kYXRhLnNpZ25hdHVyZTsKICAgICAgICAgIF9zZWxmLmRhdGFPYmoub3NzYWNjZXNzS2V5SWQgPSByZXNwb25zZS5kYXRhLmFjY2Vzc2lkOwogICAgICAgICAgX3NlbGYuZGF0YU9iai5rZXkgPSByZXNwb25zZS5kYXRhLmRpciArIF90aGlzLmdldFVVSUQoKSArICdfJHtmaWxlbmFtZX0nOwogICAgICAgICAgX3NlbGYuZGF0YU9iai5kaXIgPSByZXNwb25zZS5kYXRhLmRpcjsKICAgICAgICAgIF9zZWxmLmRhdGFPYmouaG9zdCA9IHJlc3BvbnNlLmRhdGEuaG9zdDsKICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZmFsc2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVVUlEOiBmdW5jdGlvbiBnZXRVVUlEKCkgewogICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiAoYyA9PT0gJ3gnID8gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCA6ICdyJjB4MycgfCAnMHg4JykudG9TdHJpbmcoMTYpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWxlTGlzdDogZnVuY3Rpb24gZmlsZUxpc3QoKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,aAAA,QAAA,qCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,GAAA,EAAA,EAHA;AAIA,QAAA,cAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA,EALA;AAMA,QAAA,IAAA,EAAA,EANA,CAOA;;AAPA;AAHA,KAAA;AAaA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,IADA,EACA,QADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA,QAAA;AACA,KAHA;AAIA,IAAA,wBAJA,oCAIA,IAJA,EAIA;AACA,WAAA,cAAA,GAAA,IAAA,CAAA,GAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAPA;AAQA,IAAA,aARA,yBAQA,QARA,EAQA,IARA,EAQA,QARA,EAQA;AACA,WAAA,QAAA,CAAA,GAAA;AACA,WAAA,QAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA,CAAA,IAAA;AAAA,QAAA,GAAA,EAAA,KAAA,OAAA,CAAA,IAAA,GAAA,GAAA,GAAA,KAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,aAAA,EAAA,IAAA,CAAA,IAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,KAAA,QAAA,CAAA,CAAA,EAAA,GAAA;AACA,KAZA;AAaA,IAAA,YAbA,wBAaA,IAbA,EAaA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,QAAA,aAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,GAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA,GAAA,KAAA,CAAA,OAAA,EAAA,GAAA,cAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,GAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,OAAA,CAAA,IAAA,CAAA;AACA,SARA,EAQA,KARA,CAQA,UAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA;AACA,SAVA;AAWA,OAZA,CAAA;AAcA,KA7BA;AA8BA,IAAA,OA9BA,qBA8BA;AACA,aAAA,uCAAA,OAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,eAAA,CAAA,CAAA,KAAA,GAAA,GAAA,IAAA,CAAA,MAAA,KAAA,EAAA,GAAA,CAAA,GAAA,UAAA,KAAA,EAAA,QAAA,CAAA,EAAA,CAAA;AACA,OAFA,CAAA;AAGA;AAlCA,GAhBA;AAoDA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,EAAA;AACA;AAHA;AApDA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-upload\r\n\t\t  action=\"https://huabei5zhanh.oss-cn-huhehaote.aliyuncs.com\"\r\n\t\t  :data=\"dataObj\"\r\n\t\t  list-type=\"picture-card\"\r\n\t\t  :on-preview=\"handlePictureCardPreview\"\r\n\t\t  :on-remove=\"handleRemove\"\r\n\t\t\t:multiple=\"false\"\r\n\t\t\t:on-success=\"successUpload\"\r\n\t\t\t:before-upload=\"beforeUpload\"\r\n\t\t  :file-list=\"fileList\">\r\n\t\t  <i class=\"el-icon-plus\"></i>\r\n\t\t</el-upload>\r\n\t\t<el-dialog :visible.sync=\"dialogVisible\">\r\n\t\t  <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {ossfileupload} from \"@/util/requestnetwork/OssFileUpload\"\r\n  export default {\r\n    data() {\r\n          return {\r\n            dialogImageUrl: '',\r\n            dialogVisible: false,\r\n\t\t\tdataObj: {\r\n\t\t\t  policy: '',\r\n\t\t\t  signature: '',\r\n\t\t\t  key: '',\r\n\t\t\t  ossaccessKeyId: '',\r\n\t\t\t  dir: '',\r\n\t\t\t  host: '',\r\n\t\t\t  // callback:'',\r\n\t\t\t}\r\n          };\r\n        },\r\n        methods: {\r\n          handleRemove(file, fileList) {\r\n            console.log(file, fileList);\r\n          },\r\n          handlePictureCardPreview(file) {\r\n            this.dialogImageUrl = file.url;\r\n            this.dialogVisible = true;\r\n          },\r\n\t\tsuccessUpload(response, file, fileList){\r\n\t\t\tthis.fileList.pop();\r\n\t\t\tthis.fileList.push({name: file.name, url: this.dataObj.host + '/' + this.dataObj.key.replace(\"${filename}\",file.name) });\r\n\t\t\tthis.$emit(\"getheadimg\",this.fileList[0].url);\r\n\t\t},\r\n\t\tbeforeUpload(file) {\r\n\t\t  let _self = this;\r\n\t\t  return new Promise((resolve,reject)=>{\r\n\t\t\t  ossfileupload().then(response=>{\r\n\t\t\t  \t\t\t  _self.dataObj.policy = response.data.policy;\r\n\t\t\t  \t\t\t  _self.dataObj.signature = response.data.signature;\r\n\t\t\t  \t\t\t  _self.dataObj.ossaccessKeyId = response.data.accessid;\r\n\t\t\t  \t\t\t  _self.dataObj.key = response.data.dir +this.getUUID()+'_${filename}';\r\n\t\t\t  \t\t\t  _self.dataObj.dir = response.data.dir;\r\n\t\t\t  \t\t\t  _self.dataObj.host = response.data.host;\r\n\t\t\t\t\tresolve(true)\r\n\t\t\t  }).catch(error=>{\r\n\t\t\t  \t\treject(false)\t  \r\n\t\t\t  })\r\n\t\t  })\r\n\t\t  \r\n\t\t},\r\n\t\tgetUUID () {\r\n\t\t  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t    return (c === 'x' ? (Math.random() * 16 | 0) : ('r&0x3' | '0x8')).toString(16)\r\n\t\t  })\r\n\t\t}\r\n        },\r\n\t\tcomputed:{\r\n\t\t\tfileList() {\r\n\t\t\t  return []\r\n\t\t\t}\r\n\t\t}\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/publicizeaticle"}]}